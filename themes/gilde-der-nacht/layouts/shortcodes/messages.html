{{ range $type, $message := .Params }}

<section class="c-message c-message--{{ $type }}" data-type="{{ $type }}">
    {{ $message }}
</section>

{{ end }}

<script>
    const getQueryVariable = (variable) => {
        var query = window.location.search.substring(1);
        var vars = query.split('&');
        for (var i = 0; i < vars.length; i++) {
            var pair = vars[i].split('=');
            if (pair[0] == variable) {
                return pair[1];
            }
        }
        return (false);
    };

    const msgType = getQueryVariable('msg');
    const msgElem = document.querySelector('section[data-type="' + msgType + '"]');
    if (msgElem) {
        msgElem.classList.add('visible');
    }
</script>
